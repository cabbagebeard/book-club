<% @title = "Edit User" %>
<div class="container">
  <h2 class="text-center">Edit User</h2>
    <br><br>
    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put, class: 'form-horizontal center-block' }) do |f| %>
      <%= devise_error_messages! %>

      <div class="form-group">
        <%= f.label :username, class: 'col-sm-2 control-label'  %>
        <div class="col-sm-6">
            <%= f.text_field :username, class: 'form-control'  %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :password, class: 'col-sm-2 control-label' %>
        <div class="col-sm-6">
          <% if @minimum_password_length %>
            <em>(<%= @minimum_password_length %> characters minimum)</em>
          <% end %>
          <%= f.password_field :password, autocomplete: "off", class: 'form-control' %>
        </div>
      </div>
    
      <div class="form-group">
        <%= f.label :password_confirmation, class: 'col-sm-2 control-label' %>
        <div class="col-sm-6">
            <%= f.password_field :password_confirmation, autocomplete: "off", class: 'form-control'  %>
        </div>
      </div>
      
      <div class="form-group">
        <%= f.label :current_password, class: 'col-sm-2 control-label' %>
        <div class="col-sm-6">
            <%= f.password_field :current_password, autocomplete: "off", class: 'form-control'  %>
        </div>
      </div>
      
      <br> 
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-6">
          <%= f.submit "Update", class: "btn btn-primary", style: "margin-bottom: 5px;" %>
          <br>
          <%= link_to "Go Back", :back %>
          <br><br><br>
          <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#cancelAccount">
            Cancel Account?
          </button>
        </div>
      </div>
  <% end %>
  
  <!--MODAL-->
  <div class="modal fade" id="cancelAccount" tabindex="-1" role="dialog" aria-labelledby="cancelAccount" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="cancelAccount">Cancel Account</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <h2>Are you sure you want to cancel your account? All data will be lost.</h2>
          <br>
        </div>
        <div class="modal-footer">
          <p>
            <button type="button" class="btn btn-success" data-dismiss="modal">Keep my account!</button>
            <%= button_to "Cancel my account", registration_path(resource_name), method: :delete, class: "btn btn-danger" %>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
